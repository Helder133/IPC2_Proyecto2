<app-header></app-header>
<div class="container">
    @if(deleted) {
    <div class="alert alert-success d-flex align-items-center">
        <i class="bi bi-check-circle flex-shrink-0 me-2"></i>
        <div>
            Operacion realizada con exito.
        </div>
    </div>
    }
    @if(isAdmin) {
    <div class="container text-center">
        <a routerLink="/users/new" class="btn btn-primary">
            <i class="bi bi-file-earmark-plus"></i>
            Crear Usuario
        </a>
    </div>
    }
    <h1>Listado de usuarios</h1>
    <div class="row">
        @for (user of users; track $index) {
        <h6>index: {{ $index + 1}}</h6>
        <app-user-card [selectedUser]="user" (userSelected)="onSelectedUser($event)" />
        }
    </div>
</div>

<app-confirmation-modal [selectedUser]="selectedUser" (confirmationExecuter)="deleteUser()" />