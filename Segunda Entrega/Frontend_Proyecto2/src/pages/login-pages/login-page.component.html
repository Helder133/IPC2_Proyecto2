<body class="bg-dark text-light">
    <div class="d-flex justify-content-center align-items-center min-vh-100">
        <main class="w-100" style="max-width: 400px;">
            @if(exception) {
            <div class="alert alert-danger d-flex align-items-center">
                <i class="bi bi-exclamation-triangle"></i>
                <div>
                    Error: {{mensajeError}}.
                </div>
            </div>
            }
            <div class="card shadow-lg bg-secondary text-light p-4 rounded-4">
                <h5 class="card-title text-center mb-3">Iniciar sesión</h5>
                <form [formGroup]="loginFormGroup" (ngSubmit)="submit()">
                    <div class="mb-3">
                        <label for="user" class="form-label">Usuario</label>
                        <input id="user" name="user" class="form-control"
                            [class.is-invalid]="loginFormGroup.controls['user'].invalid && loginFormGroup.controls['user'].dirty"
                            formControlName="user" />
                        <div *ngIf="loginFormGroup.controls['user'].invalid && loginFormGroup.controls['user'].touched"
                            class="invalid-feedback">
                            <div *ngIf="loginFormGroup.controls['user'].errors?.['required']">Por favor ingrese un
                                usuario</div>
                            <div *ngIf="loginFormGroup.controls['user'].errors?.['maxlength']">El usuario no debe
                                exceder los 200
                                caracteres</div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="password" class="form-label">Contraseña</label>
                        <input id="password" name="password" type="password" class="form-control"
                            [class.is-invalid]="loginFormGroup.controls['password'].invalid && loginFormGroup.controls['password'].dirty"
                            formControlName="password" />
                        <div *ngIf="loginFormGroup.controls['password'].invalid && loginFormGroup.controls['password'].touched"
                            class="invalid-feedback">
                            <div *ngIf="loginFormGroup.controls['password'].errors?.['required']">Por favor ingrese
                                una
                                contraseña</div>
                            <div *ngIf="loginFormGroup.controls['password'].errors?.['maxlength']">La contraseña no
                                debe
                                exceder los
                                100 caracteres</div>
                        </div>
                    </div>

                    <div class="d-grid">
                        <button class="btn btn-primary" type="submit" [disabled]="loginFormGroup.invalid">Iniciar
                            Sesión</button>
                            <p><a routerLink="/user/new" class="link-light link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover"> 
                                <i class="bi bi-person-plus-fill"> </i>
                                No tienes cuenta? Registrate</a></p>
                    </div>
                </form>
            </div>
        </main>
    </div>
</body>